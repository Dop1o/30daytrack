<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="no-referrer-when-downgrade">

    <title>30-–¥–Ω–µ–≤–Ω—ã–π —á–µ–ª–ª–µ–Ω–¥–∂ —Ç—Ä–µ–∫–µ—Ä ‚Äî —Å–æ–∑–¥–∞–π –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π —Å–≤–æ–∏ –ø—Ä–∏–≤—ã—á–∫–∏</title>
    
    <!-- –ú–µ—Ç–∞-—Ç–µ–≥–∏ –¥–ª—è SEO -->
    <meta name="description" content="–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Å–≤–æ–∏ 30-–¥–Ω–µ–≤–Ω—ã–µ —á–µ–ª–ª–µ–Ω–¥–∂–∏. –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å, –ø–æ–ª—É—á–∞–π—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –¥–æ—Å—Ç–∏–≥–∞–π—Ç–µ —Ü–µ–ª–µ–π.">
    <meta name="keywords" content="—Ç—Ä–µ–∫–µ—Ä –ø—Ä–∏–≤—ã—á–µ–∫, 30-–¥–Ω–µ–≤–Ω—ã–π —á–µ–ª–ª–µ–Ω–¥–∂, —Å–∞–º–æ—Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏–µ, –ø—Ä–∏–≤—ã—á–∫–∏, —Ü–µ–ª–∏, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–æ–≥—Ä–µ—Å—Å">
    <meta name="author" content="30-–¥–Ω–µ–≤–Ω—ã–π —Ç—Ä–µ–∫–µ—Ä">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìä</text></svg>">
    
    <!-- –°—Ç–∏–ª–∏ -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous">
    
    <style>

        /* –£–±–∏—Ä–∞–µ–º —Å–∏–Ω—é—é —Ä–∞–º–∫—É –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ —É –ª–æ–≥–æ—Ç–∏–ø–∞ –≤ —Ö–µ–¥–µ—Ä–µ */
        nav a:first-child:focus {
            outline: none !important;
            box-shadow: none !important;
        }

        /* –ò–ª–∏ –±–æ–ª–µ–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ: */
        nav a.text-xl:focus,
        nav a.text-xl:hover {
            outline: none !important;
        }

        @media print {
            * {
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
        }

        .tracker-container {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            print-color-adjust: exact;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in { 
            animation: fadeIn 0.3s ease-out; 
        }
        
        .sr-only { 
            position: absolute; 
            width: 1px; 
            height: 1px;
            padding: 0; 
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translate(-50%, 10px);
            }
            to {
                opacity: 1;
                transform: translate(-50%, 0);
            }
        }

        .animate-fadeIn {
            animation: fadeInUp 0.3s ease-out;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ */
        @media (max-width: 480px) {
            .copy-icon-btn {
                width: 8px !important;
                height: 8px !important;
                font-size: 0.75rem !important;
            }
            
            #card-number, #ton-wallet {
                font-size: 0.75rem !important;
                padding: 0.5rem !important;
            }
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ç—Ä–µ–∫–µ—Ä–∞ */
        .day-cell {
            transition: all 0.2s ease;
        }
        
        .day-cell:hover {
            transform: translateY(-2px);
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—è */
        .calendar-grid {
            display: grid;
            gap: 0.75rem;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–ø–∏—Å–∫–∞ —Ç—Ä–µ–∫–µ—Ä–æ–≤ */
        .tracker-list-item {
            transition: all 0.2s ease;
            border-left: 4px solid transparent;
        }
        
        .tracker-list-item:hover {
            transform: translateX(4px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }
        
        .tracker-list-item.active {
            border-left-color: #3b82f6;
            background-color: #f0f9ff;
        }
        
        .progress-bar {
            height: 6px;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 0.3s ease;
        }
        
        /* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
        .stat-card {
            transition: all 0.2s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
        @media (max-width: 640px) {
            .modal-responsive {
                margin: 0.5rem !important;
                padding: 1rem !important;
                max-height: calc(100vh - 1rem);
                overflow-y: auto;
            }
            
            .modal-responsive .p-6 {
                padding: 1rem !important;
            }
            
            .modal-responsive .text-2xl {
                font-size: 1.25rem !important;
            }
            
            .calendar-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 0.5rem;
            }
            
            .day-cell {
                min-height: 5rem !important;
                padding: 0.5rem !important;
            }
            
            .check-box {
                width: 2.5rem !important;
                height: 2.5rem !important;
            }
            
            .tracker-container {
                padding: 1rem !important;
            }
            
            .responsive-heading {
                font-size: 1.5rem !important;
            }
            
            .responsive-subheading {
                font-size: 1.125rem !important;
            }
            
            .responsive-text {
                font-size: 0.875rem !important;
            }
        }

        @media (max-width: 480px) {
            .calendar-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.375rem;
            }
            
            .day-cell {
                min-height: 4.5rem !important;
                padding: 0.375rem !important;
            }
            
            .check-box {
                width: 2rem !important;
                height: 2rem !important;
            }
            
            .goal-section {
                padding: 1rem !important;
            }
            
            .btn-responsive {
                padding: 0.75rem 1rem !important;
                font-size: 1rem !important;
            }
        }
        
        @media (min-width: 641px) and (max-width: 768px) {
            .calendar-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 0.75rem;
            }
        }
        
        @media (min-width: 769px) {
            .calendar-grid {
                grid-template-columns: repeat(6, 1fr);
                gap: 1rem;
            }
        }
        
        /* –î–ª—è PDF - —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ */
        .pdf-template {
            width: 794px !important;
            height: 1123px !important;
            padding: 40px !important;
            background: white !important;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
            box-sizing: border-box !important;
        }
        
        .pdf-calendar-grid {
            display: grid !important;
            grid-template-columns: repeat(6, 1fr) !important;
            gap: 8px !important;
            margin: 20px 0 !important;
        }
        
        .pdf-day-cell {
            border: 2px solid !important;
            border-radius: 8px !important;
            padding: 8px !important;
            text-align: center !important;
            background: white !important;
            min-height: 60px !important;
            display: flex !important;
            flex-direction: column !important;
            justify-content: space-between !important;
        }
        
        .pdf-check-box {
            width: 30px !important;
            height: 30px !important;
            margin: 0 auto !important;
            border: 2px solid !important;
            border-radius: 8px !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
        }
        
        /* –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ */
        html {
            scroll-behavior: smooth;
        }
        
        /* –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Ç–∞—á-—É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
        @media (hover: none) and (pointer: coarse) {
            .day-cell,
            button,
            input,
            select,
            textarea,
            .color-label,
            .tracker-list-item {
                min-height: 44px !important;
                min-width: 44px !important;
            }
        }
        
        /* –£–ª—É—á—à–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ñ–æ–∫—É—Å–∞ */
        *:focus {
            outline: 2px solid #3b82f6;
            outline-offset: 2px;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ */
        .loading-spinner {
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø—É—Å—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è */
        .empty-state {
            opacity: 0.6;
            transition: opacity 0.2s ease;
        }
        
        .empty-state:hover {
            opacity: 0.8;
        }
    </style>
</head>
<body class="bg-gray-50">
    
    <nav class="bg-white shadow-sm py-4 sticky top-0 z-40">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center">
                <a href="index.html" class="text-xl sm:text-2xl font-bold text-gray-900 hover:text-blue-600 transition-colors flex items-center">
                    <i class="fas fa-chart-line text-blue-500 mr-2"></i>
                    30-–¥–Ω–µ–≤–Ω—ã–π —Ç—Ä–µ–∫–µ—Ä
                </a>
                <div class="hidden md:flex gap-4 lg:gap-6">
                    <a href="#form-heading" class="text-gray-600 hover:text-blue-600 transition-colors text-sm lg:text-base px-3 py-2 rounded-lg hover:bg-gray-50">–°–æ–∑–¥–∞—Ç—å —Ç—Ä–µ–∫–µ—Ä</a>
                    <a href="#my-trackers-heading" class="text-gray-600 hover:text-blue-600 transition-colors text-sm lg:text-base px-3 py-2 rounded-lg hover:bg-gray-50">–ú–æ–∏ —Ç—Ä–µ–∫–µ—Ä—ã</a>
                    <a href="#preview-heading" class="text-gray-600 hover:text-blue-600 transition-colors text-sm lg:text-base px-3 py-2 rounded-lg hover:bg-gray-50">–ü—Ä–µ–≤—å—é</a>
                </div>
                <button id="mobile-menu-btn" class="md:hidden text-gray-600 p-2 hover:bg-gray-100 rounded-lg transition-colors">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>
        </div>

        <!-- –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é -->
        <div id="mobile-menu" class="md:hidden mt-3 hidden bg-white rounded-lg shadow-md p-4 mx-4">
            <div class="flex flex-col gap-1">
                <a href="#form-heading" class="text-gray-600 hover:text-blue-600 transition-colors py-3 px-4 rounded-lg hover:bg-gray-50 flex items-center">
                    <i class="fas fa-plus-circle mr-3 text-blue-500"></i>
                    –°–æ–∑–¥–∞—Ç—å —Ç—Ä–µ–∫–µ—Ä
                </a>
                <a href="#my-trackers-heading" class="text-gray-600 hover:text-blue-600 transition-colors py-3 px-4 rounded-lg hover:bg-gray-50 flex items-center">
                    <i class="fas fa-list mr-3 text-green-500"></i>
                    –ú–æ–∏ —Ç—Ä–µ–∫–µ—Ä—ã
                </a>
                <a href="#preview-heading" class="text-gray-600 hover:text-blue-600 transition-colors py-3 px-4 rounded-lg hover:bg-gray-50 flex items-center">
                    <i class="fas fa-eye mr-3 text-purple-500"></i>
                    –ü—Ä–µ–≤—å—é
                </a>
            </div>
        </div>
    </nav>

    <!-- –ì–µ—Ä–æ–π —Å–µ–∫—Ü–∏—è -->
    <header class="bg-gradient-to-br from-blue-50 to-cyan-50 py-12 md:py-20 lg:py-24">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-4 md:mb-6 responsive-heading">
                –°–æ–∑–¥–∞–π —Å–≤–æ–π —á–µ–ª–ª–µ–Ω–¥–∂ –Ω–∞ 30 –¥–Ω–µ–π
            </h1>
            <p class="text-lg sm:text-xl md:text-2xl text-gray-600 max-w-2xl mx-auto px-2 responsive-subheading">
                –°–æ–∑–¥–∞–≤–∞–π —Ç—Ä–µ–∫–µ—Ä—ã, —Å–æ—Ö—Ä–∞–Ω—è–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –¥–æ—Å—Ç–∏–≥–∞–π —Ü–µ–ª–µ–π
            </p>
        </div>
    </header>

    <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
    <section class="py-8 md:py-12 bg-white">
        <div class="container mx-auto px-4">
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="#form-heading" 
                   class="bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-semibold py-3 px-6 rounded-lg text-base md:text-lg hover:from-blue-700 hover:to-cyan-700 transform hover:scale-[1.02] transition-all duration-200 shadow-lg hover:shadow-xl text-center">
                    <i class="fas fa-plus-circle mr-2"></i>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç—Ä–µ–∫–µ—Ä
                </a>
            </div>
        </div>
    </section>

    <!-- –ú–æ–∏ —Ç—Ä–µ–∫–µ—Ä—ã -->
    <section class="py-10 md:py-14 lg:py-16 bg-gray-50" id="my-trackers-heading">
        <div class="container mx-auto px-4 max-w-6xl">
            <h2 class="text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold text-gray-900 text-center mb-8 md:mb-12 responsive-heading">
                –ú–æ–∏ —Ç—Ä–µ–∫–µ—Ä—ã
            </h2>
            
            <div id="trackers-list-container" class="mb-8">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6">
                    <!-- –¢—Ä–µ–∫–µ—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
                
                <div id="empty-trackers-state" class="text-center py-12 empty-state">
                    <div class="w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center">
                        <i class="fas fa-chart-line text-gray-400 text-3xl"></i>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-600 mb-2">–£ –≤–∞—Å –µ—â–µ –Ω–µ—Ç —Ç—Ä–µ–∫–µ—Ä–æ–≤</h3>
                    <p class="text-gray-500 mb-6">–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π —Ç—Ä–µ–∫–µ—Ä –∏ –Ω–∞—á–Ω–∏—Ç–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å</p>
                    <a href="#form-heading" class="inline-flex items-center text-blue-600 hover:text-blue-700 font-medium">
                        <i class="fas fa-plus-circle mr-2"></i>–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—ã–π —Ç—Ä–µ–∫–µ—Ä
                    </a>
                </div>
            </div>
            
            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div id="statistics-container" class="hidden">
                <h3 class="text-lg md:text-xl font-semibold text-gray-900 mb-4 md:mb-6">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6">
                    <div class="stat-card bg-white rounded-xl shadow-md p-4 md:p-6">
                        <div class="flex items-center">
                            <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-4">
                                <i class="fas fa-chart-bar text-blue-600 text-xl"></i>
                            </div>
                            <div>
                                <p class="text-gray-600 text-sm">–í—Å–µ–≥–æ —Ç—Ä–µ–∫–µ—Ä–æ–≤</p>
                                <p id="total-trackers" class="text-2xl md:text-3xl font-bold text-gray-900">0</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="stat-card bg-white rounded-xl shadow-md p-4 md:p-6">
                        <div class="flex items-center">
                            <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mr-4">
                                <i class="fas fa-check-circle text-green-600 text-xl"></i>
                            </div>
                            <div>
                                <p class="text-gray-600 text-sm">–ê–∫—Ç–∏–≤–Ω—ã–µ —Ç—Ä–µ–∫–µ—Ä—ã</p>
                                <p id="active-trackers" class="text-2xl md:text-3xl font-bold text-gray-900">0</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="stat-card bg-white rounded-xl shadow-md p-4 md:p-6">
                        <div class="flex items-center">
                            <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mr-4">
                                <i class="fas fa-chart-pie text-purple-600 text-xl"></i>
                            </div>
                            <div>
                                <p class="text-gray-600 text-sm">–°—Ä–µ–¥–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å</p>
                                <p id="average-progress" class="text-2xl md:text-3xl font-bold text-gray-900">0%</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="stat-card bg-white rounded-xl shadow-md p-4 md:p-6">
                        <div class="flex items-center">
                            <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mr-4">
                                <i class="fas fa-trophy text-orange-600 text-xl"></i>
                            </div>
                            <div>
                                <p class="text-gray-600 text-sm">–ó–∞–≤–µ—Ä—à–µ–Ω–æ –¥–Ω–µ–π</p>
                                <p id="completed-days" class="text-2xl md:text-3xl font-bold text-gray-900">0</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è -->
    <section class="py-10 md:py-14 lg:py-16 bg-white" id="form-heading">
        <div class="container mx-auto px-4 max-w-2xl">
            <h2 class="text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold text-gray-900 text-center mb-8 md:mb-12 responsive-heading">
                –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π —Ç—Ä–µ–∫–µ—Ä
            </h2>
            
            <form id="tracker-form" class="space-y-6" novalidate>
                <div>
                    <label for="challenge-name" class="block text-sm md:text-base font-medium text-gray-700 mb-2">
                        –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–≤–æ–µ–≥–æ —á–µ–ª–ª–µ–Ω–¥–∂–∞ <span class="text-red-500">*</span>
                    </label>
                    <input type="text" id="challenge-name" name="challenge-name"
                           placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ß–∏—Ç–∞—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å"
                           required maxlength="100"
                           class="w-full px-4 py-3 md:py-3.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition text-sm md:text-base">
                    <span id="challenge-name-error" class="hidden text-red-500 text-xs md:text-sm mt-1"></span>
                </div>

                <div>
                    <label for="category" class="block text-sm md:text-base font-medium text-gray-700 mb-2">
                        –ö–∞—Ç–µ–≥–æ—Ä–∏—è <span class="text-red-500">*</span>
                    </label>
                    <select id="category" name="category" required
                            class="w-full px-4 py-3 md:py-3.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition text-sm md:text-base">
                        <option value="">–í—ã–±–µ—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                        <option value="health">–ó–¥–æ—Ä–æ–≤—å–µ & –°–ø–æ—Ä—Ç</option>
                        <option value="learning">–û–±—É—á–µ–Ω–∏–µ & –†–æ—Å—Ç</option>
                        <option value="productivity">–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</option>
                        <option value="mindfulness">–û—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å & –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è</option>
                        <option value="other">–î—Ä—É–≥–æ–µ</option>
                    </select>
                    <span id="category-error" class="hidden text-red-500 text-xs md:text-sm mt-1"></span>
                </div>

                <div>
                    <label for="goal" class="block text-sm md:text-base font-medium text-gray-700 mb-2">
                        –ú–æ—è —Ü–µ–ª—å –Ω–∞ 30 –¥–Ω–µ–π <span class="text-red-500">*</span>
                    </label>
                    <textarea id="goal" name="goal" rows="4"
                              placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ü—Ä–æ—á–∏—Ç–∞—Ç—å 300 —Å—Ç—Ä–∞–Ω–∏—Ü, –∑–∞–Ω–∏–º–∞—Ç—å—Å—è —Å–ø–æ—Ä—Ç–æ–º 30 –º–∏–Ω—É—Ç –≤ –¥–µ–Ω—å"
                              required maxlength="500"
                              class="w-full px-4 py-3 md:py-3.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition resize-none text-sm md:text-base"></textarea>
                    <span id="goal-error" class="hidden text-red-500 text-xs md:text-sm mt-1"></span>
                </div>

                <div>
                    <label class="block text-sm md:text-base font-medium text-gray-700 mb-3">
                        –¶–≤–µ—Ç —Ç—Ä–µ–∫–µ—Ä–∞
                    </label>
                    <div class="flex flex-wrap gap-3 md:gap-4 justify-center">
                        <input type="radio" id="color-blue" name="color" value="blue" class="hidden" checked>
                        <label for="color-blue" class="color-label w-10 h-10 md:w-12 md:h-12 bg-blue-500 rounded-full cursor-pointer hover:scale-110 transition-all border-4 border-transparent" tabindex="0" title="–°–∏–Ω–∏–π"></label>

                        <input type="radio" id="color-green" name="color" value="green" class="hidden">
                        <label for="color-green" class="color-label w-10 h-10 md:w-12 md:h-12 bg-green-500 rounded-full cursor-pointer hover:scale-110 transition-all border-4 border-transparent" tabindex="0" title="–ó–µ–ª–µ–Ω—ã–π"></label>

                        <input type="radio" id="color-purple" name="color" value="purple" class="hidden">
                        <label for="color-purple" class="color-label w-10 h-10 md:w-12 md:h-12 bg-purple-500 rounded-full cursor-pointer hover:scale-110 transition-all border-4 border-transparent" tabindex="0" title="–§–∏–æ–ª–µ—Ç–æ–≤—ã–π"></label>

                        <input type="radio" id="color-orange" name="color" value="orange" class="hidden">
                        <label for="color-orange" class="color-label w-10 h-10 md:w-12 md:h-12 bg-orange-500 rounded-full cursor-pointer hover:scale-110 transition-all border-4 border-transparent" tabindex="0" title="–û—Ä–∞–Ω–∂–µ–≤—ã–π"></label>

                        <input type="radio" id="color-pink" name="color" value="pink" class="hidden">
                        <label for="color-pink" class="color-label w-10 h-10 md:w-12 md:h-12 bg-pink-500 rounded-full cursor-pointer hover:scale-110 transition-all border-4 border-transparent" tabindex="0" title="–†–æ–∑–æ–≤—ã–π"></label>
                    </div>
                </div>

                <button type="submit" id="submit-btn"
                        class="w-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-semibold py-3 md:py-4 px-6 rounded-lg text-base md:text-lg hover:from-blue-700 hover:to-cyan-700 transform hover:scale-[1.02] transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed btn-responsive">
                    <span class="btn-text">
                        <i class="fas fa-plus-circle mr-2"></i>–°–æ–∑–¥–∞—Ç—å –º–æ–π —Ç—Ä–µ–∫–µ—Ä!
                    </span>
                    <span class="btn-loading hidden">
                        <i class="fas fa-spinner fa-spin mr-2"></i>–°–æ–∑–¥–∞–Ω–∏–µ...
                    </span>
                </button>
            </form>
        </div>
    </section>

    <!-- –ü—Ä–µ–≤—å—é -->
    <section class="py-10 md:py-14 lg:py-16 bg-gray-50" id="preview-heading">
        <div class="container mx-auto px-4 max-w-4xl">
            <h2 class="text-lg sm:text-xl md:text-2xl font-bold text-gray-900 mb-6 text-center">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ç—Ä–µ–∫–µ—Ä–∞</h2>
            <div id="pdf-preview" class="bg-white rounded-xl shadow-lg p-4 sm:p-6 md:p-8 lg:p-12 min-h-[400px] flex items-center justify-center">
                <p class="text-gray-400 text-lg sm:text-xl text-center px-4">
                    <i class="fas fa-magic text-gray-300 text-2xl mb-2 block"></i>
                    –¢–≤–æ–π —Ç—Ä–µ–∫–µ—Ä –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è
                </p>
            </div>
            <div id="preview-actions" class="mt-6 flex flex-col sm:flex-row gap-4 justify-center hidden">
                <button id="download-pdf-btn"
                        class="bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 md:px-8 rounded-lg text-base md:text-lg shadow-lg hover:shadow-xl transition-all duration-200 btn-responsive">
                    <i class="fas fa-download mr-2"></i>–°–∫–∞—á–∞—Ç—å PDF
                </button>
                <button id="copy-tracker-link-btn"
                        class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 md:px-8 rounded-lg text-base md:text-lg shadow-lg hover:shadow-xl transition-all duration-200 btn-responsive">
                    <i class="fas fa-link mr-2"></i>–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É
                </button>
                <button id="save-changes-btn"
                        class="bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-6 md:px-8 rounded-lg text-base md:text-lg shadow-lg hover:shadow-xl transition-all duration-200 btn-responsive">
                    <i class="fas fa-save mr-2"></i>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
                </button>
            </div>
        </div>
    </section>

    <!-- –§—É—Ç–µ—Ä -->
    <footer class="bg-gray-900 text-gray-300 py-10 md:py-12">
        <div class="container mx-auto px-4">
            <div class="max-w-4xl mx-auto">
                <div class="text-center mb-6 md:mb-8">
                    <h3 class="text-xl md:text-2xl font-bold text-white mb-3 md:mb-4">30-–¥–Ω–µ–≤–Ω—ã–π —á–µ–ª–ª–µ–Ω–¥–∂ —Ç—Ä–µ–∫–µ—Ä</h3>
                    <p class="text-gray-400 text-sm md:text-base">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª–µ–∑–Ω—ã—Ö –ø—Ä–∏–≤—ã—á–µ–∫ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–µ–π</p>
                </div>
                
                <nav class="flex flex-col sm:flex-row flex-wrap justify-center items-center gap-4 md:gap-6 mb-6 md:mb-8">
                    <button onclick="openModal('about-modal')" class="hover:text-white transition-colors text-sm md:text-base px-3 py-2">–û –ø—Ä–æ–µ–∫—Ç–µ</button>
                    <span class="hidden sm:inline text-gray-500">‚Ä¢</span>
                    <button onclick="openModal('privacy-modal')" class="hover:text-white transition-colors text-sm md:text-base px-3 py-2">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</button>
                    <span class="hidden sm:inline text-gray-500">‚Ä¢</span>
                    <button onclick="openModal('contact-modal')" class="hover:text-white transition-colors text-sm md:text-base px-3 py-2">–°–≤—è–∑–∞—Ç—å—Å—è</button>
                    <span class="hidden sm:inline text-gray-500">‚Ä¢</span>
                    <button onclick="openModal('support-modal')" class="hover:text-white transition-colors text-sm md:text-base px-3 py-2">–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–µ–∫—Ç</button>
                </nav>
                
                <div class="text-center">
                    <p class="text-xs md:text-sm text-gray-500 mb-2">
                        ¬© 2025 30-–¥–Ω–µ–≤–Ω—ã–π —á–µ–ª–ª–µ–Ω–¥–∂ —Ç—Ä–µ–∫–µ—Ä. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
                    </p>
                    <p class="text-xs text-gray-600">
                        –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ.
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <!-- –ú–æ–¥–∞–ª–∫–∞ –æ –ø—Ä–æ–µ–∫—Ç–µ -->
    <div id="about-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 overflow-y-auto">
        <div class="min-h-screen flex items-center justify-center p-3 sm:p-4">
            <div class="bg-white rounded-xl sm:rounded-2xl shadow-2xl max-w-2xl w-full fade-in modal-responsive">
                <div class="flex justify-between items-center border-b border-gray-200 p-4 sm:p-6">
                    <h2 class="text-lg sm:text-xl md:text-2xl font-bold text-gray-900">–û –ø—Ä–æ–µ–∫—Ç–µ</h2>
                    <button onclick="closeModal('about-modal')" class="text-gray-400 hover:text-gray-600 text-xl sm:text-2xl">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="p-4 sm:p-6 md:p-8">
                    <div class="mb-6 md:mb-8">
                        <div class="w-16 h-16 md:w-20 md:h-20 bg-gradient-to-br from-blue-100 to-cyan-100 rounded-full flex items-center justify-center mx-auto mb-4 md:mb-6">
                            <i class="fas fa-rocket text-blue-600 text-2xl md:text-3xl"></i>
                        </div>
                        <h3 class="text-lg md:text-xl font-bold text-gray-900 text-center mb-3 md:mb-4">30-–¥–Ω–µ–≤–Ω—ã–π —á–µ–ª–ª–µ–Ω–¥–∂ —Ç—Ä–µ–∫–µ—Ä</h3>
                        <p class="text-gray-600 text-center text-sm md:text-base mb-4 md:mb-6">
                            –ü—Ä–æ—Å—Ç–æ–π –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª–µ–∑–Ω—ã—Ö –ø—Ä–∏–≤—ã—á–µ–∫
                        </p>
                    </div>

                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6">
                        <div class="bg-blue-50 p-3 md:p-4 rounded-lg">
                            <h4 class="font-semibold text-gray-900 mb-2 flex items-center text-sm md:text-base">
                                <i class="fas fa-bullseye text-blue-600 mr-2"></i> –§–æ–∫—É—Å –Ω–∞ —Ü–µ–ª–∏
                            </h4>
                            <p class="text-gray-600 text-xs md:text-sm">–ü–æ–º–æ–≥–∞–µ—Ç —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –æ–¥–Ω–æ–π –≤–∞–∂–Ω–æ–π —Ü–µ–ª–∏ –Ω–∞ 30 –¥–Ω–µ–π</p>
                        </div>
                        <div class="bg-green-50 p-3 md:p-4 rounded-lg">
                            <h4 class="font-semibold text-gray-900 mb-2 flex items-center text-sm md:text-base">
                                <i class="fas fa-chart-line text-green-600 mr-2"></i> –í–∏–∑—É–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å
                            </h4>
                            <p class="text-gray-600 text-xs md:text-sm">–ö—Ä–∞—Å–∏–≤—ã–π —Ç—Ä–µ–∫–µ—Ä –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å</p>
                        </div>
                        <div class="bg-purple-50 p-3 md:p-4 rounded-lg">
                            <h4 class="font-semibold text-gray-900 mb-2 flex items-center text-sm md:text-base">
                                <i class="fas fa-heart text-purple-600 mr-2"></i> –û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –Ω–∞—É–∫–µ
                            </h4>
                            <p class="text-gray-600 text-xs md:text-sm">21-30 –¥–Ω–µ–π –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–π –ø—Ä–∏–≤—ã—á–∫–∏</p>
                        </div>
                        <div class="bg-orange-50 p-3 md:p-4 rounded-lg">
                            <h4 class="font-semibold text-gray-900 mb-2 flex items-center text-sm md:text-base">
                                <i class="fas fa-lock text-orange-600 mr-2"></i> –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å
                            </h4>
                            <p class="text-gray-600 text-xs md:text-sm">–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-gray-50 rounded-b-xl sm:rounded-b-2xl p-4 sm:p-6">
                    <button onclick="closeModal('about-modal')" 
                            class="w-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-semibold py-3 px-6 rounded-lg text-sm md:text-base hover:from-blue-700 hover:to-cyan-700 transition-all">
                        –ü–æ–Ω—è—Ç–Ω–æ
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –ø–æ–ª–∏—Ç–∏–∫–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ -->
    <div id="privacy-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 overflow-y-auto">
        <div class="min-h-screen flex items-center justify-center p-3 sm:p-4">
            <div class="bg-white rounded-xl sm:rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] flex flex-col fade-in modal-responsive">
                <div class="flex justify-between items-center border-b border-gray-200 p-4 sm:p-6">
                    <h2 class="text-lg sm:text-xl md:text-2xl font-bold text-gray-900">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</h2>
                    <button onclick="closeModal('privacy-modal')" class="text-gray-400 hover:text-gray-600 text-xl sm:text-2xl">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="p-4 sm:p-6 md:p-8 overflow-y-auto flex-grow">
                    <div class="space-y-4 md:space-y-6">
                        <div class="bg-gray-50 p-3 md:p-4 rounded-lg">
                            <h4 class="font-semibold text-gray-900 mb-2 text-sm md:text-base">üìÅ –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ</h4>
                            <p class="text-gray-600 text-xs md:text-sm">–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ. –ù–∏–∫–∞–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ã.</p>
                        </div>

                        <div class="bg-gray-50 p-3 md:p-4 rounded-lg">
                            <h4 class="font-semibold text-gray-900 mb-2 text-sm md:text-base">üîí –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å</h4>
                            <p class="text-gray-600 text-xs md:text-sm">–ú—ã –Ω–µ —Å–æ–±–∏—Ä–∞–µ–º –∏ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≤–∞—à–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.</p>
                        </div>

                        <div class="bg-gray-50 p-3 md:p-4 rounded-lg">
                            <h4 class="font-semibold text-gray-900 mb-2 text-sm md:text-base">üìÑ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF</h4>
                            <p class="text-gray-600 text-xs md:text-sm">PDF —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –∏ —Å—Ä–∞–∑—É —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞ –≤–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ.</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-gray-50 rounded-b-xl sm:rounded-b-2xl p-4 sm:p-6">
                    <button onclick="closeModal('privacy-modal')" 
                            class="w-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-semibold py-3 px-6 rounded-lg text-sm md:text-base hover:from-blue-700 hover:to-cyan-700 transition-all">
                        –ü—Ä–∏–Ω–∏–º–∞—é —É—Å–ª–æ–≤–∏—è
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ -->
    <div id="contact-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 overflow-y-auto">
        <div class="min-h-screen flex items-center justify-center p-3 sm:p-4">
            <div class="bg-white rounded-xl sm:rounded-2xl shadow-2xl max-w-md w-full fade-in modal-responsive">
                <div class="flex justify-between items-center border-b border-gray-200 p-4 sm:p-6">
                    <h2 class="text-lg sm:text-xl md:text-2xl font-bold text-gray-900">–°–≤—è–∑–∞—Ç—å—Å—è</h2>
                    <button onclick="closeModal('contact-modal')" class="text-gray-400 hover:text-gray-600 text-xl sm:text-2xl">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="p-4 sm:p-6 md:p-8">
                    <div class="text-center mb-6 md:mb-8">
                        <div class="w-16 h-16 md:w-20 md:h-20 bg-gradient-to-br from-blue-100 to-cyan-100 rounded-full flex items-center justify-center mx-auto mb-4 md:mb-6">
                            <i class="fas fa-envelope text-blue-600 text-2xl md:text-3xl"></i>
                        </div>
                        <h3 class="text-lg md:text-xl font-bold text-gray-900 mb-2">–ï—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã?</h3>
                        <p class="text-gray-600 text-sm md:text-base">–°–≤—è–∂–∏—Ç–µ—Å—å —É–¥–æ–±–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º</p>
                    </div>

                    <div class="bg-gradient-to-br from-blue-50 to-cyan-50 rounded-lg sm:rounded-xl border border-blue-100 p-4 md:p-6">
                        <h4 class="font-semibold text-blue-900 mb-3 md:mb-4 text-base md:text-lg">
                            <i class="fas fa-user-circle text-blue-600 mr-2"></i> –ö–æ–Ω—Ç–∞–∫—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
                        </h4>
                        
                        <div class="space-y-3 md:space-y-4">
                            <div class="flex items-center">
                                <div class="w-8 text-center">
                                    <i class="fas fa-user text-blue-500"></i>
                                </div>
                                <div class="ml-3 md:ml-4">
                                    <p class="text-gray-700 font-medium text-sm md:text-base">–ò—Å–º–∞–∏–ª</p>
                                    <p class="text-gray-600 text-xs md:text-sm">Frontend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫</p>
                                </div>
                            </div>
                            
                            <a href="mailto:ismailgejbatov@gmail.com" class="block no-underline">
                                <div class="flex items-center p-3 bg-white rounded-lg hover:bg-blue-50 transition-colors group">
                                    <div class="w-8 text-center">
                                        <i class="fas fa-envelope text-blue-500"></i>
                                    </div>
                                    <div class="ml-3 md:ml-4 flex-grow">
                                        <p class="text-gray-700 font-medium text-sm md:text-base">Email</p>
                                        <p class="text-blue-600 group-hover:text-blue-800 text-xs md:text-sm break-all">
                                            ismailgejbatov@gmail.com
                                        </p>
                                    </div>
                                </div>
                            </a>
                            
                            <a href="https://t.me/prosto_isko" target="_blank" class="block no-underline">
                                <div class="flex items-center p-3 bg-white rounded-lg hover:bg-blue-50 transition-colors group">
                                    <div class="w-8 text-center">
                                        <i class="fab fa-telegram text-blue-500"></i>
                                    </div>
                                    <div class="ml-3 md:ml-4 flex-grow">
                                        <p class="text-gray-700 font-medium text-sm md:text-base">Telegram</p>
                                        <p class="text-blue-600 group-hover:text-blue-800 text-xs md:text-sm">
                                            @prosto_isko
                                        </p>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
                
                <div class="bg-gray-50 rounded-b-xl sm:rounded-b-2xl p-4 sm:p-6">
                    <button onclick="closeModal('contact-modal')" 
                            class="w-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-semibold py-3 px-6 rounded-lg text-sm md:text-base hover:from-blue-700 hover:to-cyan-700 transition-all">
                        –ó–∞–∫—Ä—ã—Ç—å
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ -->
    <div id="support-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 overflow-y-auto">
        <div class="min-h-screen flex items-center justify-center p-3 sm:p-4">
            <div class="bg-white rounded-xl sm:rounded-2xl shadow-2xl max-w-md w-full fade-in modal-responsive">
                <div class="flex justify-between items-center border-b border-gray-200 p-4 sm:p-6">
                    <h2 class="text-lg sm:text-xl md:text-2xl font-bold text-gray-900">–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–µ–∫—Ç</h2>
                    <button onclick="closeModal('support-modal')" class="text-gray-400 hover:text-gray-600 text-xl sm:text-2xl">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="p-4 sm:p-6 md:p-8">
                    <div class="text-center mb-6 md:mb-8">
                        <div class="w-16 h-16 md:w-20 md:h-20 bg-gradient-to-br from-green-100 to-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4 md:mb-6">
                            <i class="fas fa-heart text-green-600 text-2xl md:text-3xl"></i>
                        </div>
                        <h3 class="text-lg md:text-xl font-bold text-gray-900 mb-2">–ü–æ–¥–¥–µ—Ä–∂–∏—Ç–µ —Ä–∞–∑–≤–∏—Ç–∏–µ –ø—Ä–æ–µ–∫—Ç–∞</h3>
                        <p class="text-gray-600 text-sm md:text-base">–í–∞—à–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–º–æ–≥–∞–µ—Ç —É–ª—É—á—à–∞—Ç—å —Ç—Ä–µ–∫–µ—Ä –∏ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</p>
                    </div>

                    
                    <div class="space-y-4 md:space-y-6">
                        <div class="bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg sm:rounded-xl border border-green-100 p-4 md:p-6">
                            <h4 class="font-semibold text-green-900 mb-3 md:mb-4 text-base md:text-lg">
                                <i class="fas fa-donate text-green-600 mr-2"></i> –°–ø–æ—Å–æ–±—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏
                            </h4>
                            
                            <div class="space-y-3 md:space-y-4">
                                <!-- –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞ -->
                                <div class="bg-white rounded-lg p-3 hover:bg-green-50 transition-colors">
                                    <div class="flex items-center mb-2">
                                        <div class="w-8 text-center">
                                            <i class="fas fa-credit-card text-green-500"></i>
                                        </div>
                                        <div class="ml-3 md:ml-4 flex-grow">
                                            <p class="text-gray-700 font-medium text-sm md:text-base">–ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞</p>
                                        </div>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <p class="text-green-600 font-mono text-sm md:text-base select-all flex-grow bg-green-50 px-3 py-2 rounded truncate" id="card-number">
                                            2202 2055 7513 3944
                                        </p>
                                        <button onclick="copyCardNumber()" 
                                                class="flex-shrink-0 w-10 h-10 bg-green-100 text-green-600 hover:bg-green-200 rounded-lg flex items-center justify-center transition-colors"
                                                title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã">
                                            <i class="fas fa-copy"></i>
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- TON –∫–æ—à–µ–ª–µ–∫ -->
                                <div class="bg-white rounded-lg p-3 hover:bg-green-50 transition-colors">
                                    <div class="flex items-center mb-2">
                                        <div class="w-8 text-center">
                                            <i class="fas fa-coins text-blue-500"></i>
                                        </div>
                                        <div class="ml-3 md:ml-4 flex-grow">
                                            <p class="text-gray-700 font-medium text-sm md:text-base">TON –∫–æ—à–µ–ª–µ–∫</p>
                                        </div>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <p class="text-gray-600 text-xs font-mono select-all flex-grow bg-gray-50 px-3 py-2 rounded break-all" id="ton-wallet">
                                            UQB650sDu-0vZiBrzHvoVRmxmvTNEweRQ02qijkKKmDk3wC2
                                        </p>
                                        <button onclick="copyTonWallet()" 
                                                class="flex-shrink-0 w-10 h-10 bg-blue-100 text-blue-600 hover:bg-blue-200 rounded-lg flex items-center justify-center transition-colors"
                                                title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å TON –∞–¥—Ä–µ—Å">
                                            <i class="fas fa-copy"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="text-center text-xs md:text-sm text-gray-500">
                            <p><i class="fas fa-info-circle text-blue-500 mr-1"></i> –õ—é–±–∞—è —Å—É–º–º–∞ –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞–∑–≤–∏—Ç–∏—é –ø—Ä–æ–µ–∫—Ç–∞</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-gray-50 rounded-b-xl sm:rounded-b-2xl p-4 sm:p-6">
                    <button onclick="closeModal('support-modal')" 
                            class="w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white font-semibold py-3 px-6 rounded-lg text-sm md:text-base hover:from-green-700 hover:to-emerald-700 transition-all">
                        –ó–∞–∫—Ä—ã—Ç—å
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É–¥–∞–ª–µ–Ω–∏—è -->
    <div id="delete-tracker-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 overflow-y-auto">
        <div class="min-h-screen flex items-center justify-center p-3 sm:p-4">
            <div class="bg-white rounded-xl sm:rounded-2xl shadow-2xl max-w-md w-full fade-in modal-responsive">
                <div class="flex justify-between items-center border-b border-gray-200 p-4 sm:p-6">
                    <h2 class="text-lg sm:text-xl md:text-2xl font-bold text-gray-900">–£–¥–∞–ª–∏—Ç—å —Ç—Ä–µ–∫–µ—Ä</h2>
                    <button onclick="closeModal('delete-tracker-modal')" class="text-gray-400 hover:text-gray-600 text-xl sm:text-2xl">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="p-4 sm:p-6 md:p-8">
                    <div class="text-center mb-6">
                        <div class="w-20 h-20 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center">
                            <i class="fas fa-trash-alt text-red-600 text-3xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2">–í—ã —É–≤–µ—Ä–µ–Ω—ã?</h3>
                        <p class="text-gray-600" id="delete-tracker-message">–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å. –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ç—Ä–µ–∫–µ—Ä–∞ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã.</p>
                    </div>
                </div>
                
                <div class="bg-gray-50 rounded-b-xl sm:rounded-b-2xl p-4 sm:p-6 flex gap-4">
                    <button onclick="closeModal('delete-tracker-modal')" 
                            class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-3 px-6 rounded-lg text-sm md:text-base transition-all">
                        –û—Ç–º–µ–Ω–∞
                    </button>
                    <button id="confirm-delete-btn"
                            class="flex-1 bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-6 rounded-lg text-sm md:text-base transition-all">
                        –£–¥–∞–ª–∏—Ç—å
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ç—Ä–µ–∫–µ—Ä -->
    <div id="share-tracker-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 overflow-y-auto">
        <div class="min-h-screen flex items-center justify-center p-3 sm:p-4">
            <div class="bg-white rounded-xl sm:rounded-2xl shadow-2xl max-w-md w-full fade-in modal-responsive">
                <div class="flex justify-between items-center border-b border-gray-200 p-4 sm:p-6">
                    <h2 class="text-lg sm:text-xl md:text-2xl font-bold text-gray-900">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Ç—Ä–µ–∫–µ—Ä–æ–º</h2>
                    <button onclick="closeModal('share-tracker-modal')" class="text-gray-400 hover:text-gray-600 text-xl sm:text-2xl">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="p-4 sm:p-6 md:p-8">
                    <div class="text-center mb-6">
                        <div class="w-20 h-20 mx-auto mb-4 bg-blue-100 rounded-full flex items-center justify-center">
                            <i class="fas fa-link text-blue-600 text-3xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2">–°—Å—ã–ª–∫–∞ –Ω–∞ —Ç—Ä–µ–∫–µ—Ä</h3>
                        <p class="text-gray-600 mb-4">–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç—É —Å—Å—ã–ª–∫—É, —á—Ç–æ–±—ã –≤—Å–µ–≥–¥–∞ –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–µ–º—É —Ç—Ä–µ–∫–µ—Ä—É:</p>
                        
                        <div class="bg-gray-50 p-4 rounded-lg mb-4">
                            <p id="tracker-share-url" class="text-blue-600 font-mono text-sm break-all"></p>
                        </div>
                        
                        <div class="flex items-center justify-center gap-2">
                            <button onclick="copyShareUrl()" 
                                    class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg text-sm transition-all flex items-center">
                                <i class="fas fa-copy mr-2"></i>–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                            </button>
                            <a id="open-tracker-link" href="#" target="_blank"
                               class="bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg text-sm transition-all flex items-center no-underline">
                                <i class="fas fa-external-link-alt mr-2"></i>–û—Ç–∫—Ä—ã—Ç—å
                            </a>
                        </div>
                    </div>
                </div>
                
                <div class="bg-gray-50 rounded-b-xl sm:rounded-b-2xl p-4 sm:p-6">
                    <button onclick="closeModal('share-tracker-modal')" 
                            class="w-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-semibold py-3 px-6 rounded-lg text-sm md:text-base hover:from-blue-700 hover:to-cyan-700 transition-all">
                        –ó–∞–∫—Ä—ã—Ç—å
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ -->
    <div id="simple-notification" class="fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg z-50 opacity-0 transition-opacity duration-300 text-sm hidden">
        <span id="notification-text"></span>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π JavaScript -->
    <script>
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
        const CONFIG = {
            colorMap: {
                blue: { hex: '#3b82f6', name: '–°–∏–Ω–∏–π' },
                green: { hex: '#10b981', name: '–ó–µ–ª–µ–Ω—ã–π' },
                purple: { hex: '#8b5cf6', name: '–§–∏–æ–ª–µ—Ç–æ–≤—ã–π' },
                orange: { hex: '#f97316', name: '–û—Ä–∞–Ω–∂–µ–≤—ã–π' },
                pink: { hex: '#ec4899', name: '–†–æ–∑–æ–≤—ã–π' }
            },
            storageKey: '30day_trackers_v2',
            maxTrackers: 50
        };

        // –£—Ç–∏–ª–∏—Ç—ã
        const Utils = {
            sanitizeHtml(str) {
                if (typeof str !== 'string') return '';
                const div = document.createElement('div');
                div.textContent = str;
                return div.innerHTML;
            },
            
            sanitizeText(str, maxLength = 1000) {
                if (typeof str !== 'string') return '';
                return str.trim().slice(0, maxLength).replace(/[<>]/g, '');
            },
            
            generateId() {
                return Date.now().toString(36) + Math.random().toString(36).substr(2);
            },
            
            formatDate(date) {
                return new Date(date).toLocaleDateString('ru-RU', {
                    day: 'numeric',
                    month: 'long',
                    year: 'numeric'
                });
            },
            
            showNotification(message, type = 'success') {
                const notification = document.getElementById('simple-notification');
                const notificationText = document.getElementById('notification-text');
                
                if (!notification || !notificationText) return;
                
                notificationText.textContent = message;
                
                // –¶–≤–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
                if (type === 'error') {
                    notification.style.backgroundColor = '#ef4444';
                } else if (type === 'warning') {
                    notification.style.backgroundColor = '#f59e0b';
                } else {
                    notification.style.backgroundColor = '#1f2937';
                }
                
                notification.classList.remove('hidden');
                notification.style.opacity = '1';
                
                setTimeout(() => {
                    notification.style.opacity = '0';
                    setTimeout(() => {
                        notification.classList.add('hidden');
                    }, 300);
                }, 3000);
            },
            
            copyToClipboard(text) {
                if (navigator.clipboard) {
                    return navigator.clipboard.writeText(text)
                        .then(() => true)
                        .catch(() => this.copyFallback(text));
                } else {
                    return this.copyFallback(text);
                }
            },
            
            copyFallback(text) {
                try {
                    const textArea = document.createElement('textarea');
                    textArea.value = text;
                    textArea.style.position = 'fixed';
                    textArea.style.opacity = '0';
                    document.body.appendChild(textArea);
                    textArea.focus();
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    return true;
                } catch (err) {
                    console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:', err);
                    return false;
                }
            },
            
            getTrackerUrl(trackerId) {
                return `${window.location.origin}${window.location.pathname}#tracker-${trackerId}`;
            },
            
            scrollToTracker(trackerId) {
                const element = document.getElementById(`tracker-${trackerId}`);
                if (element) {
                    element.scrollIntoView({ behavior: 'smooth' });
                }
            }
        };

        // –•—Ä–∞–Ω–∏–ª–∏—â–µ —Ç—Ä–µ–∫–µ—Ä–æ–≤
        const TrackerStorage = {
            getTrackers() {
                try {
                    const data = localStorage.getItem(CONFIG.storageKey);
                    if (!data) return [];
                    
                    const trackers = JSON.parse(data);
                    return Array.isArray(trackers) ? trackers : [];
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç—Ä–µ–∫–µ—Ä–æ–≤:', error);
                    return [];
                }
            },
            
            saveTrackers(trackers) {
                try {
                    // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–µ–∫–µ—Ä–æ–≤
                    if (trackers.length > CONFIG.maxTrackers) {
                        trackers = trackers.slice(0, CONFIG.maxTrackers);
                        Utils.showNotification(`–î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç —Ç—Ä–µ–∫–µ—Ä–æ–≤ (${CONFIG.maxTrackers})`, 'warning');
                    }
                    
                    localStorage.setItem(CONFIG.storageKey, JSON.stringify(trackers));
                    return true;
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç—Ä–µ–∫–µ—Ä–æ–≤:', error);
                    Utils.showNotification('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö', 'error');
                    return false;
                }
            },
            
            saveTracker(tracker) {
                const trackers = this.getTrackers();
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —É–∂–µ —Ç—Ä–µ–∫–µ—Ä —Å —Ç–∞–∫–∏–º ID
                const existingIndex = trackers.findIndex(t => t.id === tracker.id);
                
                if (existingIndex >= 0) {
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ç—Ä–µ–∫–µ—Ä
                    trackers[existingIndex] = tracker;
                } else {
                    // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π —Ç—Ä–µ–∫–µ—Ä
                    tracker.createdAt = tracker.createdAt || new Date().toISOString();
                    tracker.updatedAt = new Date().toISOString();
                    trackers.unshift(tracker); // –î–æ–±–∞–≤–ª—è–µ–º –≤ –Ω–∞—á–∞–ª–æ
                }
                
                return this.saveTrackers(trackers);
            },
            
            deleteTracker(trackerId) {
                const trackers = this.getTrackers();
                const filteredTrackers = trackers.filter(t => t.id !== trackerId);
                return this.saveTrackers(filteredTrackers);
            },
            
            getTracker(trackerId) {
                const trackers = this.getTrackers();
                return trackers.find(t => t.id === trackerId) || null;
            },
            
            updateTrackerDays(trackerId, checkedDays) {
                const tracker = this.getTracker(trackerId);
                if (!tracker) return false;
                
                tracker.checkedDays = checkedDays;
                tracker.updatedAt = new Date().toISOString();
                tracker.progress = Math.round((checkedDays.length / 30) * 100);
                
                return this.saveTracker(tracker);
            }
        };

        // –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç—Ä–µ–∫–µ—Ä–æ–≤
        const TrackerGenerator = {
            generateTrackerHTML(data, forPDF = false) {
                const color = CONFIG.colorMap[data.color] || CONFIG.colorMap.blue;
                const categoryNames = {
                    health: '–ó–¥–æ—Ä–æ–≤—å–µ & –°–ø–æ—Ä—Ç',
                    learning: '–û–±—É—á–µ–Ω–∏–µ & –†–æ—Å—Ç',
                    productivity: '–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å',
                    mindfulness: '–û—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å & –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è',
                    other: '–î—Ä—É–≥–æ–µ'
                };
                
                const checkedDays = data.checkedDays || [];
                const progress = data.progress || 0;

                if (forPDF) {
                    // HTML –¥–ª—è PDF
                    let daysGrid = '';
                    for (let day = 1; day <= 30; day++) {
                        const isChecked = checkedDays.includes(day);
                        const cellBorderColor = isChecked ? color.hex : '#e5e7eb';
                        const checkBoxBorderColor = isChecked ? color.hex : '#d1d5db';
                        const checkBoxBgColor = isChecked ? color.hex : 'transparent';
                        
                        daysGrid += `
                            <div class="pdf-day-cell" style="border-color: ${cellBorderColor} !important;">
                                <div style="font-size: 11px !important; font-weight: 600 !important; color: #6b7280 !important; margin-bottom: 4px !important;">–î–µ–Ω—å ${day}</div>
                                <div class="pdf-check-box" style="border-color: ${checkBoxBorderColor} !important; background-color: ${checkBoxBgColor} !important;">
                                    ${isChecked ? 
                                        '<svg style="width: 16px !important; height: 16px !important; color: white !important;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>' 
                                        : ''}
                                </div>
                            </div>
                        `;
                    }

                    return `
                        <div class="pdf-template">
                            <div style="border-bottom: 3px solid ${color.hex} !important; padding-bottom: 16px !important; margin-bottom: 24px !important; text-align: center !important;">
                                <h1 style="font-size: 24px !important; font-weight: 700 !important; margin-bottom: 8px !important; color: ${color.hex} !important; word-break: break-word !important;">${Utils.sanitizeHtml(data.name)}</h1>
                                <p style="color: #4b5563 !important; font-size: 16px !important;">${Utils.sanitizeHtml(categoryNames[data.category] || '')}</p>
                                <p style="color: #6b7280 !important; font-size: 14px !important; margin-top: 4px !important;">–ü—Ä–æ–≥—Ä–µ—Å—Å: ${progress}%</p>
                            </div>
                            
                            <div style="background-color: ${color.hex}15 !important; padding: 16px !important; border-radius: 0.5rem !important; margin-bottom: 24px !important;">
                                <h2 style="font-size: 18px !important; font-weight: 600 !important; margin-bottom: 8px !important; color: ${color.hex} !important;">–ú–æ—è —Ü–µ–ª—å –Ω–∞ 30 –¥–Ω–µ–π:</h2>
                                <p style="color: #374151 !important; line-height: 1.5 !important; font-size: 14px !important; white-space: pre-wrap !important;">${Utils.sanitizeHtml(data.goal)}</p>
                            </div>
                            
                            <div class="pdf-calendar-grid">
                                ${daysGrid}
                            </div>
                            
                            <div style="text-align: center !important; color: #6b7280 !important; font-size: 12px !important; margin-top: 24px !important; padding-top: 16px !important; border-top: 1px solid #e5e7eb !important;">
                                <p style="margin-bottom: 4px !important;">–û—Ç–º–µ—á–∞–π –∫–∞–∂–¥—ã–π –¥–µ–Ω—å, –∫–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω–∏–ª —Å–≤–æ—é —Ü–µ–ª—å!</p>
                                <p>–°–æ–∑–¥–∞–Ω–æ: ${Utils.formatDate(data.createdAt)} ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–æ: ${Utils.formatDate(data.updatedAt)}</p>
                            </div>
                        </div>
                    `;
                } else {
                    // HTML –¥–ª—è —Å–∞–π—Ç–∞
                    let daysGrid = '';
                    for (let day = 1; day <= 30; day++) {
                        const isChecked = checkedDays.includes(day);
                        const cellBorderColor = isChecked ? color.hex : '#e5e7eb';
                        const checkBoxBorderColor = isChecked ? color.hex : '#d1d5db';
                        const checkBoxBgColor = isChecked ? color.hex : 'transparent';
                        const iconDisplay = isChecked ? 'block' : 'none';
                        
                        daysGrid += `
                            <div class="day-cell border-2 cursor-pointer hover:shadow-md transition-shadow bg-white" 
                                data-day="${day}" 
                                data-tracker-id="${data.id}"
                                style="min-height: 5rem; border-radius: 0.5rem; padding: 0.5rem; text-align: center; border-color: ${cellBorderColor};">
                                <div class="text-xs font-semibold text-gray-500 mb-2">–î–µ–Ω—å ${day}</div>
                                <div class="check-box w-10 h-10 mx-auto border-2 rounded-lg flex items-center justify-center" 
                                    style="border-color: ${checkBoxBorderColor}; background-color: ${checkBoxBgColor}; border-radius: 0.5rem;">
                                    <i class="fas fa-check text-white text-sm" style="display: ${iconDisplay};"></i>
                                </div>
                            </div>
                        `;
                    }

                    return `
                        <div class="tracker-container p-4 sm:p-6 md:p-8" id="tracker-${data.id}" style="max-width: 100%; margin: 0 auto; font-family: -apple-system, sans-serif;">
                            <div class="header mb-4 sm:mb-6 text-center" style="border-bottom: 3px solid ${color.hex}; padding-bottom: 0.75rem sm:1rem;">
                                <div class="flex justify-between items-center mb-2">
                                    <h1 class="text-lg sm:text-xl md:text-2xl lg:text-3xl font-bold text-left flex-1" style="color: ${color.hex};">${Utils.sanitizeHtml(data.name)}</h1>
                                    <div class="flex gap-2">
                                        <button onclick="App.openTracker('${data.id}')" class="text-gray-500 hover:text-blue-600 p-2" title="–û—Ç–∫—Ä—ã—Ç—å –≤ –ø–æ–ª–Ω–æ–º —Ä–µ–∂–∏–º–µ">
                                            <i class="fas fa-expand"></i>
                                        </button>
                                        <button onclick="App.shareTracker('${data.id}')" class="text-gray-500 hover:text-green-600 p-2" title="–ü–æ–¥–µ–ª–∏—Ç—å—Å—è">
                                            <i class="fas fa-share-alt"></i>
                                        </button>
                                        <button onclick="App.deleteTrackerPrompt('${data.id}')" class="text-gray-500 hover:text-red-600 p-2" title="–£–¥–∞–ª–∏—Ç—å">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="flex justify-between items-center">
                                    <p class="text-gray-600 text-sm sm:text-base">${Utils.sanitizeHtml(categoryNames[data.category] || '')}</p>
                                    <p class="text-gray-500 text-sm">–ü—Ä–æ–≥—Ä–µ—Å—Å: <span class="font-bold">${progress}%</span></p>
                                </div>
                            </div>
                            
                            <div class="mb-4">
                                <div class="progress-bar bg-gray-200">
                                    <div class="progress-fill" style="width: ${progress}%; background-color: ${color.hex};"></div>
                                </div>
                                <div class="flex justify-between text-xs text-gray-500 mt-1">
                                    <span>${checkedDays.length} –∏–∑ 30 –¥–Ω–µ–π</span>
                                    <span>${progress}%</span>
                                </div>
                            </div>
                            
                            <div class="goal-section mb-4 sm:mb-6 p-3 sm:p-4 md:p-6 rounded-lg" style="background-color: ${color.hex}15;">
                                <h2 class="text-base sm:text-lg md:text-xl font-semibold mb-2 sm:mb-3" style="color: ${color.hex};">–ú–æ—è —Ü–µ–ª—å –Ω–∞ 30 –¥–Ω–µ–π:</h2>
                                <p class="text-gray-700 text-sm sm:text-base whitespace-pre-wrap">${Utils.sanitizeHtml(data.goal)}</p>
                            </div>
                            
                            <div class="calendar-grid">
                                ${daysGrid}
                            </div>
                            
                            <div class="footer mt-4 sm:mt-6 pt-4 border-t border-gray-200 text-center text-gray-500 text-xs sm:text-sm">
                                <p class="mb-2">–û—Ç–º–µ—á–∞–π –∫–∞–∂–¥—ã–π –¥–µ–Ω—å, –∫–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω–∏–ª —Å–≤–æ—é —Ü–µ–ª—å!</p>
                                <div class="flex justify-between">
                                    <p>–°–æ–∑–¥–∞–Ω: ${Utils.formatDate(data.createdAt)}</p>
                                    <p>–û–±–Ω–æ–≤–ª–µ–Ω: ${Utils.formatDate(data.updatedAt)}</p>
                                </div>
                            </div>
                        </div>
                    `;
                }
            },
            
            generateTrackerListItem(tracker) {
                const color = CONFIG.colorMap[tracker.color] || CONFIG.colorMap.blue;
                const categoryNames = {
                    health: '–ó–¥–æ—Ä–æ–≤—å–µ & –°–ø–æ—Ä—Ç',
                    learning: '–û–±—É—á–µ–Ω–∏–µ & –†–æ—Å—Ç',
                    productivity: '–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å',
                    mindfulness: '–û—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å & –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è',
                    other: '–î—Ä—É–≥–æ–µ'
                };
                
                const checkedDays = tracker.checkedDays || [];
                const progress = tracker.progress || 0;
                const daysCompleted = checkedDays.length;
                
                return `
                    <div class="tracker-list-item bg-white rounded-xl shadow-md p-4 md:p-6 cursor-pointer hover:shadow-lg" 
                         onclick="App.openTracker('${tracker.id}')"
                         data-tracker-id="${tracker.id}">
                        <div class="flex items-start justify-between mb-3">
                            <div class="flex items-center">
                                <div class="w-10 h-10 rounded-lg flex items-center justify-center mr-3" style="background-color: ${color.hex}20;">
                                    <i class="fas fa-chart-line" style="color: ${color.hex};"></i>
                                </div>
                                <div>
                                    <h3 class="font-semibold text-gray-900 text-sm md:text-base truncate max-w-[200px]">${Utils.sanitizeHtml(tracker.name)}</h3>
                                    <p class="text-gray-500 text-xs">${categoryNames[tracker.category] || '–î—Ä—É–≥–æ–µ'}</p>
                                </div>
                            </div>
                            <button onclick="event.stopPropagation(); App.deleteTrackerPrompt('${tracker.id}')" 
                                    class="text-gray-400 hover:text-red-600 p-1" title="–£–¥–∞–ª–∏—Ç—å">
                                <i class="fas fa-trash text-sm"></i>
                            </button>
                        </div>
                        
                        <div class="mb-3">
                            <div class="progress-bar bg-gray-200">
                                <div class="progress-fill" style="width: ${progress}%; background-color: ${color.hex};"></div>
                            </div>
                            <div class="flex justify-between text-xs text-gray-500 mt-1">
                                <span>${daysCompleted} –∏–∑ 30 –¥–Ω–µ–π</span>
                                <span>${progress}%</span>
                            </div>
                        </div>
                        
                        <div class="flex justify-between items-center text-xs text-gray-500">
                            <div class="flex items-center">
                                <i class="far fa-calendar mr-1"></i>
                                <span>${Utils.formatDate(tracker.createdAt)}</span>
                            </div>
                            <button onclick="event.stopPropagation(); App.shareTracker('${tracker.id}')" 
                                    class="text-blue-600 hover:text-blue-700 flex items-center">
                                <i class="fas fa-share-alt mr-1"></i>
                                <span>–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</span>
                            </button>
                        </div>
                    </div>
                `;
            },
            
            renderPreview(trackerData) {
                const preview = document.getElementById('pdf-preview');
                if (!preview) return;
                
                preview.innerHTML = this.generateTrackerHTML(trackerData, false);
                preview.classList.add('fade-in');
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ —Ç—Ä–µ–∫–µ—Ä–∞ –≤ dataset
                preview.dataset.trackerData = JSON.stringify(trackerData);
                preview.dataset.trackerId = trackerData.id;
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
                document.getElementById('preview-actions').classList.remove('hidden');
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –¥–Ω–µ–π
                this.attachDayClickHandlers(trackerData.id, trackerData.color);
            },
            
            attachDayClickHandlers(trackerId, colorName) {
                const color = CONFIG.colorMap[colorName] || CONFIG.colorMap.blue;
                const preview = document.getElementById('pdf-preview');
                
                if (!preview) return;
                
                preview.querySelectorAll('.day-cell[data-tracker-id="' + trackerId + '"]').forEach(cell => {
                    cell.addEventListener('click', function() {
                        const day = parseInt(this.getAttribute('data-day'));
                        const checkBox = this.querySelector('.check-box');
                        const icon = checkBox.querySelector('.fa-check');
                        
                        // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ —Ç—Ä–µ–∫–µ—Ä–∞
                        const trackerDataStr = preview.dataset.trackerData;
                        if (!trackerDataStr) return;
                        
                        const trackerData = JSON.parse(trackerDataStr);
                        const checkedDays = trackerData.checkedDays || [];
                        
                        if (checkedDays.includes(day)) {
                            // –£–±–∏—Ä–∞–µ–º –æ—Ç–º–µ—Ç–∫—É
                            const index = checkedDays.indexOf(day);
                            checkedDays.splice(index, 1);
                            
                            checkBox.style.backgroundColor = 'transparent';
                            checkBox.style.borderColor = '#d1d5db';
                            if (icon) icon.style.display = 'none';
                            this.style.borderColor = '#e5e7eb';
                        } else {
                            // –î–æ–±–∞–≤–ª—è–µ–º –æ—Ç–º–µ—Ç–∫—É
                            checkedDays.push(day);
                            checkedDays.sort((a, b) => a - b);
                            
                            checkBox.style.backgroundColor = color.hex;
                            checkBox.style.borderColor = color.hex;
                            if (icon) icon.style.display = 'block';
                            this.style.borderColor = color.hex;
                        }
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ —Ç—Ä–µ–∫–µ—Ä–∞
                        trackerData.checkedDays = checkedDays;
                        trackerData.progress = Math.round((checkedDays.length / 30) * 100);
                        preview.dataset.trackerData = JSON.stringify(trackerData);
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ –ø—Ä–µ–≤—å—é
                        const progressFill = preview.querySelector('.progress-fill');
                        const progressText = preview.querySelectorAll('.text-xs.text-gray-500 span');
                        
                        if (progressFill) {
                            progressFill.style.width = trackerData.progress + '%';
                        }
                        
                        if (progressText.length >= 2) {
                            progressText[0].textContent = `${checkedDays.length} –∏–∑ 30 –¥–Ω–µ–π`;
                            progressText[1].textContent = `${trackerData.progress}%`;
                        }
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
                        TrackerStorage.updateTrackerDays(trackerId, checkedDays);
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ —Ç—Ä–µ–∫–µ—Ä–æ–≤
                        App.updateTrackersList();
                        App.updateStatistics();
                        
                        Utils.showNotification('–ü—Ä–æ–≥—Ä–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω!');
                    });
                });
            },
            
            async generatePDF(trackerData) {
                try {
                    // –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è PDF
                    const tempContainer = document.createElement('div');
                    tempContainer.style.cssText = `
                        position: absolute !important;
                        left: -9999px !important;
                        top: 0 !important;
                        width: 794px !important;
                        height: 1123px !important;
                        background: white !important;
                        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
                        box-sizing: border-box !important;
                        overflow: hidden !important;
                    `;
                    
                    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º HTML –¥–ª—è PDF
                    tempContainer.innerHTML = this.generateTrackerHTML(trackerData, true);
                    
                    document.body.appendChild(tempContainer);
                    
                    const canvas = await html2canvas(tempContainer, {
                        scale: 2,
                        useCORS: true,
                        backgroundColor: '#ffffff',
                        logging: false,
                        allowTaint: true,
                        width: 794,
                        height: 1123,
                        onclone: function(clonedDoc) {
                            clonedDoc.body.style.background = '#ffffff';
                            clonedDoc.body.style.backgroundColor = '#ffffff';
                        }
                    });
                    
                    document.body.removeChild(tempContainer);
                    
                    const { jsPDF } = window.jspdf;
                    const doc = new jsPDF('p', 'mm', 'a4');
                    
                    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –±–µ–ª—ã–π —Ñ–æ–Ω
                    doc.setFillColor(255, 255, 255);
                    doc.rect(0, 0, 210, 297, 'F');
                    
                    const imgData = canvas.toDataURL('image/jpeg', 1.0);
                    const imgWidth = 190;
                    const imgHeight = (canvas.height * imgWidth) / canvas.width;
                    const xPos = (210 - imgWidth) / 2;
                    const yPos = 10;
                    
                    doc.addImage(imgData, 'JPEG', xPos, yPos, imgWidth, imgHeight);
                    
                    // –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∏–º—è —Ñ–∞–π–ª–∞
                    const safeFileName = trackerData.name
                        .replace(/[^\w\s–∞-—è–ê-–Ø—ë–Å-]/gi, '')
                        .replace(/\s+/g, '_')
                        .substring(0, 50);
                    
                    doc.save(`–¢—Ä–µ–∫–µ—Ä_${safeFileName || '—á–µ–ª–ª–µ–Ω–¥–∂'}.pdf`);
                    
                    Utils.showNotification('PDF —É—Å–ø–µ—à–Ω–æ —Å–∫–∞—á–∞–Ω!');
                    return true;
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ PDF:', error);
                    Utils.showNotification('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å PDF. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç –ø—Ä–µ–≤—å—é.', 'error');
                    return false;
                }
            }
        };

        // –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
        const App = {
            currentTrackerId: null,
            trackerToDelete: null,
            
            init() {
                this.initMobileMenu();
                this.initForm();
                this.initColorPicker();
                this.initEventListeners();
                this.loadTrackers();
                this.checkUrlHash();
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
                this.initModals();
            },
            
            initMobileMenu() {
                const menuBtn = document.getElementById('mobile-menu-btn');
                const mobileMenu = document.getElementById('mobile-menu');
                
                if (menuBtn && mobileMenu) {
                    menuBtn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        mobileMenu.classList.toggle('hidden');
                        menuBtn.classList.toggle('bg-gray-100');
                    });
                    
                    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
                    document.addEventListener('click', (e) => {
                        if (!mobileMenu.contains(e.target) && !menuBtn.contains(e.target)) {
                            mobileMenu.classList.add('hidden');
                            menuBtn.classList.remove('bg-gray-100');
                        }
                    });
                    
                    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Å—Å—ã–ª–∫—É
                    mobileMenu.querySelectorAll('a').forEach(link => {
                        link.addEventListener('click', () => {
                            mobileMenu.classList.add('hidden');
                            menuBtn.classList.remove('bg-gray-100');
                        });
                    });
                }
            },
            
            initForm() {
                const form = document.getElementById('tracker-form');
                if (!form) return;
                
                form.addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.handleFormSubmit();
                });
                
                // –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Ñ–æ–∫—É—Å–∞
                form.querySelectorAll('input, select, textarea').forEach(input => {
                    input.addEventListener('blur', () => this.validateField(input));
                    input.addEventListener('input', () => {
                        const errorEl = document.getElementById(`${input.id}-error`);
                        if (errorEl) errorEl.classList.add('hidden');
                        input.classList.remove('border-red-500');
                    });
                });
            },
            
            initColorPicker() {
                document.querySelectorAll('input[name="color"]').forEach(input => {
                    input.addEventListener('change', (e) => this.updateColorSelection(e.target));
                });
                
                const defaultColor = document.querySelector('input[name="color"]:checked');
                if (defaultColor) this.updateColorSelection(defaultColor);
            },
            
            updateColorSelection(selectedInput) {
                document.querySelectorAll('input[name="color"]').forEach(input => {
                    const label = document.querySelector(`label[for="${input.id}"]`);
                    if (input === selectedInput) {
                        label.classList.remove('border-transparent');
                        label.classList.add('border-gray-900', 'ring-2', 'ring-gray-400', 'ring-offset-2');
                        label.style.transform = 'scale(1.1)';
                    } else {
                        label.classList.remove('border-gray-900', 'ring-2', 'ring-gray-400', 'ring-offset-2');
                        label.classList.add('border-transparent');
                        label.style.transform = 'scale(1)';
                    }
                });
            },
            
            initEventListeners() {
                // –ö–Ω–æ–ø–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è PDF
                const downloadBtn = document.getElementById('download-pdf-btn');
                if (downloadBtn) {
                    downloadBtn.addEventListener('click', async () => {
                        const preview = document.getElementById('pdf-preview');
                        const trackerDataStr = preview?.dataset.trackerData;
                        
                        if (!trackerDataStr) {
                            Utils.showNotification('–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ —Ç—Ä–µ–∫–µ—Ä', 'error');
                            return;
                        }
                        
                        try {
                            const trackerData = JSON.parse(trackerDataStr);
                            downloadBtn.disabled = true;
                            downloadBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è...';
                            
                            await TrackerGenerator.generatePDF(trackerData);
                            
                            downloadBtn.disabled = false;
                            downloadBtn.innerHTML = '<i class="fas fa-download mr-2"></i>–°–∫–∞—á–∞—Ç—å PDF';
                        } catch (error) {
                            console.error('–û—à–∏–±–∫–∞:', error);
                            downloadBtn.disabled = false;
                            downloadBtn.innerHTML = '<i class="fas fa-download mr-2"></i>–°–∫–∞—á–∞—Ç—å PDF';
                        }
                    });
                }
                
                // –ö–Ω–æ–ø–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Å—ã–ª–∫–∏
                const copyLinkBtn = document.getElementById('copy-tracker-link-btn');
                if (copyLinkBtn) {
                    copyLinkBtn.addEventListener('click', () => {
                        const preview = document.getElementById('pdf-preview');
                        const trackerId = preview?.dataset.trackerId;
                        
                        if (!trackerId) {
                            Utils.showNotification('–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ —Ç—Ä–µ–∫–µ—Ä', 'error');
                            return;
                        }
                        
                        const url = Utils.getTrackerUrl(trackerId);
                        Utils.copyToClipboard(url).then(success => {
                            if (success) {
                                Utils.showNotification('–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
                            }
                        });
                    });
                }
                
                // –ö–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
                const saveBtn = document.getElementById('save-changes-btn');
                if (saveBtn) {
                    saveBtn.addEventListener('click', () => {
                        const preview = document.getElementById('pdf-preview');
                        const trackerDataStr = preview?.dataset.trackerData;
                        
                        if (!trackerDataStr) return;
                        
                        const trackerData = JSON.parse(trackerDataStr);
                        TrackerStorage.saveTracker(trackerData);
                        Utils.showNotification('–ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!');
                    });
                }
            },
            
            initModals() {
                // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è
                const confirmDeleteBtn = document.getElementById('confirm-delete-btn');
                if (confirmDeleteBtn) {
                    confirmDeleteBtn.addEventListener('click', () => {
                        if (this.trackerToDelete) {
                            this.deleteTracker(this.trackerToDelete);
                            this.trackerToDelete = null;
                        }
                        closeModal('delete-tracker-modal');
                    });
                }
                
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ Escape –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª–æ–∫
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        document.querySelectorAll('[id$="-modal"]').forEach(modal => {
                            if (!modal.classList.contains('hidden')) {
                                closeModal(modal.id);
                            }
                        });
                    }
                });
            },
            
            validateField(field) {
                const value = field.value.trim();
                let error = null;
                
                switch(field.name || field.id) {
                    case 'challenge-name':
                        if (!value || value.length < 3) error = '–ú–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞';
                        break;
                    case 'category':
                        if (!value) error = '–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é';
                        break;
                    case 'goal':
                        if (!value || value.length < 10) error = '–ú–∏–Ω–∏–º—É–º 10 —Å–∏–º–≤–æ–ª–æ–≤';
                        break;
                }
                
                const errorEl = document.getElementById(`${field.id}-error`);
                if (error) {
                    field.classList.add('border-red-500');
                    if (errorEl) {
                        errorEl.textContent = error;
                        errorEl.classList.remove('hidden');
                    }
                } else {
                    field.classList.remove('border-red-500');
                    if (errorEl) errorEl.classList.add('hidden');
                }
            },
            
            handleFormSubmit() {
                const submitBtn = document.getElementById('submit-btn');
                const btnText = submitBtn.querySelector('.btn-text');
                const btnLoading = submitBtn.querySelector('.btn-loading');
                
                const formData = {
                    name: Utils.sanitizeText(document.getElementById('challenge-name').value, 100),
                    category: document.getElementById('category').value,
                    goal: Utils.sanitizeText(document.getElementById('goal').value, 500),
                    color: document.querySelector('input[name="color"]:checked')?.value || 'blue'
                };
                
                // –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –ø–æ–ª–µ–π
                let hasError = false;
                ['challenge-name', 'category', 'goal'].forEach(fieldId => {
                    const field = document.getElementById(fieldId);
                    this.validateField(field);
                    const errorEl = document.getElementById(`${fieldId}-error`);
                    if (errorEl && !errorEl.classList.contains('hidden')) {
                        hasError = true;
                    }
                });
                
                if (hasError) {
                    Utils.showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ', 'error');
                    return;
                }
                
                submitBtn.disabled = true;
                btnText.classList.add('hidden');
                btnLoading.classList.remove('hidden');
                
                // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —Ç—Ä–µ–∫–µ—Ä
                const newTracker = {
                    id: Utils.generateId(),
                    ...formData,
                    checkedDays: [],
                    progress: 0,
                    createdAt: new Date().toISOString(),
                    updatedAt: new Date().toISOString()
                };
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç—Ä–µ–∫–µ—Ä
                const saved = TrackerStorage.saveTracker(newTracker);
                
                if (saved) {
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–µ–≤—å—é
                    TrackerGenerator.renderPreview(newTracker);
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ —Ç—Ä–µ–∫–µ—Ä–æ–≤
                    this.loadTrackers();
                    
                    // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ –ø—Ä–µ–≤—å—é
                    setTimeout(() => {
                        const preview = document.getElementById('preview-heading');
                        if (preview) {
                            preview.scrollIntoView({ behavior: 'smooth' });
                        }
                    }, 100);
                    
                    Utils.showNotification('–¢—Ä–µ–∫–µ—Ä —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!');
                }
                
                submitBtn.disabled = false;
                btnText.classList.remove('hidden');
                btnLoading.classList.add('hidden');
                
                // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
                if (saved) {
                    document.getElementById('tracker-form').reset();
                    const defaultColor = document.querySelector('input[name="color"][value="blue"]');
                    if (defaultColor) {
                        defaultColor.checked = true;
                        this.updateColorSelection(defaultColor);
                    }
                }
            },
            
            loadTrackers() {
                const trackers = TrackerStorage.getTrackers();
                const container = document.getElementById('trackers-list-container');
                const emptyState = document.getElementById('empty-trackers-state');
                const statisticsContainer = document.getElementById('statistics-container');
                
                if (!container || !emptyState) return;
                
                // –û—á–∏—â–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
                const grid = container.querySelector('.grid');
                if (grid) {
                    grid.innerHTML = '';
                }
                
                if (trackers.length === 0) {
                    emptyState.classList.remove('hidden');
                    if (statisticsContainer) statisticsContainer.classList.add('hidden');
                    return;
                }
                
                emptyState.classList.add('hidden');
                if (statisticsContainer) statisticsContainer.classList.remove('hidden');
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Ç—Ä–µ–∫–µ—Ä—ã
                trackers.forEach(tracker => {
                    if (grid) {
                        grid.insertAdjacentHTML('beforeend', TrackerGenerator.generateTrackerListItem(tracker));
                    }
                });
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                this.updateStatistics();
            },
            
            updateStatistics() {
                const trackers = TrackerStorage.getTrackers();
                
                let completedDays = 0;
                let activeTrackers = 0;
                let totalProgress = 0;
                let averageProgress = 0;
                
                trackers.forEach(tracker => {
                    const days = tracker.checkedDays || [];
                    const progress = tracker.progress || 0;
                    
                    completedDays += days.length;
                    totalProgress += progress;
                    
                    if (days.length > 0) {
                        activeTrackers++;
                    }
                });
                
                // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Å—Ä–µ–¥–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å
                if (trackers.length > 0) {
                    averageProgress = Math.round(totalProgress / trackers.length);
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
                const totalTrackersEl = document.getElementById('total-trackers');
                const activeTrackersEl = document.getElementById('active-trackers');
                const completedDaysEl = document.getElementById('completed-days');
                const averageProgressEl = document.getElementById('average-progress');
                
                if (totalTrackersEl) totalTrackersEl.textContent = trackers.length;
                if (activeTrackersEl) activeTrackersEl.textContent = activeTrackers;
                if (completedDaysEl) completedDaysEl.textContent = completedDays;
                if (averageProgressEl) averageProgressEl.textContent = averageProgress + '%';
            },
            
            openTracker(trackerId) {
                const tracker = TrackerStorage.getTracker(trackerId);
                if (!tracker) {
                    Utils.showNotification('–¢—Ä–µ–∫–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω', 'error');
                    return;
                }
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤ –ø—Ä–µ–≤—å—é
                TrackerGenerator.renderPreview(tracker);
                
                // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ –ø—Ä–µ–≤—å—é
                const preview = document.getElementById('preview-heading');
                if (preview) {
                    preview.scrollIntoView({ behavior: 'smooth' });
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤ —Å–ø–∏—Å–∫–µ
                this.setActiveTracker(trackerId);
            },
            
            setActiveTracker(trackerId) {
                // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö —Ç—Ä–µ–∫–µ—Ä–æ–≤
                document.querySelectorAll('.tracker-list-item').forEach(item => {
                    item.classList.remove('active');
                });
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —Ç—Ä–µ–∫–µ—Ä—É
                const activeItem = document.querySelector(`.tracker-list-item[data-tracker-id="${trackerId}"]`);
                if (activeItem) {
                    activeItem.classList.add('active');
                }
            },
            
            deleteTrackerPrompt(trackerId) {
                const tracker = TrackerStorage.getTracker(trackerId);
                if (!tracker) return;
                
                this.trackerToDelete = trackerId;
                
                const messageEl = document.getElementById('delete-tracker-message');
                if (messageEl) {
                    messageEl.innerHTML = `–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —Ç—Ä–µ–∫–µ—Ä "<strong>${Utils.sanitizeHtml(tracker.name)}</strong>"?<br>–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.`;
                }
                
                openModal('delete-tracker-modal');
            },
            
            deleteTracker(trackerId) {
                const success = TrackerStorage.deleteTracker(trackerId);
                
                if (success) {
                    // –£–¥–∞–ª—è–µ–º –∏–∑ DOM
                    const trackerElement = document.querySelector(`.tracker-list-item[data-tracker-id="${trackerId}"]`);
                    if (trackerElement) {
                        trackerElement.remove();
                    }
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —É–¥–∞–ª—è–µ–º –ª–∏ –º—ã —Ç–µ–∫—É—â–∏–π —Ç—Ä–µ–∫–µ—Ä –≤ –ø—Ä–µ–≤—å—é
                    const preview = document.getElementById('pdf-preview');
                    const currentTrackerId = preview?.dataset.trackerId;
                    
                    if (currentTrackerId === trackerId) {
                        // –û—á–∏—â–∞–µ–º –ø—Ä–µ–≤—å—é
                        preview.innerHTML = `
                            <p class="text-gray-400 text-lg sm:text-xl text-center px-4">
                                <i class="fas fa-magic text-gray-300 text-2xl mb-2 block"></i>
                                –¢—Ä–µ–∫–µ—Ä —É–¥–∞–ª–µ–Ω. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ç—Ä–µ–∫–µ—Ä.
                            </p>
                        `;
                        preview.dataset.trackerData = '';
                        preview.dataset.trackerId = '';
                        
                        // –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
                        document.getElementById('preview-actions').classList.add('hidden');
                    }
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                    this.updateStatistics();
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–Ω–æ –ª–∏ –ø–æ–∫–∞–∑–∞—Ç—å –ø—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
                    const trackers = TrackerStorage.getTrackers();
                    const emptyState = document.getElementById('empty-trackers-state');
                    const statisticsContainer = document.getElementById('statistics-container');
                    
                    if (trackers.length === 0) {
                        if (emptyState) emptyState.classList.remove('hidden');
                        if (statisticsContainer) statisticsContainer.classList.add('hidden');
                    }
                    
                    Utils.showNotification('–¢—Ä–µ–∫–µ—Ä —É–¥–∞–ª–µ–Ω');
                } else {
                    Utils.showNotification('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ç—Ä–µ–∫–µ—Ä–∞', 'error');
                }
            },
            
            shareTracker(trackerId) {
                const tracker = TrackerStorage.getTracker(trackerId);
                if (!tracker) {
                    Utils.showNotification('–¢—Ä–µ–∫–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω', 'error');
                    return;
                }
                
                const url = Utils.getTrackerUrl(trackerId);
                const shareUrlEl = document.getElementById('tracker-share-url');
                const openLinkEl = document.getElementById('open-tracker-link');
                
                if (shareUrlEl) shareUrlEl.textContent = url;
                if (openLinkEl) openLinkEl.href = url;
                
                openModal('share-tracker-modal');
            },
            
            checkUrlHash() {
                const hash = window.location.hash;
                if (hash && hash.startsWith('#tracker-')) {
                    const trackerId = hash.replace('#tracker-', '');
                    const tracker = TrackerStorage.getTracker(trackerId);
                    
                    if (tracker) {
                        // –î–∞–µ–º –≤—Ä–µ–º—è –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
                        setTimeout(() => {
                            this.openTracker(trackerId);
                        }, 500);
                    }
                }
            }
        };

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥–∞–ª—å–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
                document.body.classList.add('overflow-hidden');
            }
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.add('hidden');
                document.body.style.overflow = 'auto';
                document.body.classList.remove('overflow-hidden');
            }
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è (–¥–ª—è –º–æ–¥–∞–ª–∫–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏)
        function copyCardNumber() {
            const text = "2202 2055 7513 3944";
            Utils.copyToClipboard(text).then(success => {
                if (success) {
                    Utils.showNotification('–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω');
                }
            });
        }

        function copyTonWallet() {
            const text = "UQB650sDu-0vZiBrzHvoVRmxmvTNEweRQ02qijkKKmDk3wC2";
            Utils.copyToClipboard(text).then(success => {
                if (success) {
                    Utils.showNotification('TON –∞–¥—Ä–µ—Å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω');
                }
            });
        }

        function copyShareUrl() {
            const shareUrlEl = document.getElementById('tracker-share-url');
            if (!shareUrlEl) return;
            
            const text = shareUrlEl.textContent;
            Utils.copyToClipboard(text).then(success => {
                if (success) {
                    Utils.showNotification('–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞');
                }
            });
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', () => {
            App.init();
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–æ–∫ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –æ–≤–µ—Ä–ª–µ–π
            document.querySelectorAll('[id$="-modal"]').forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        closeModal(modal.id);
                    }
                });
            });
            
            // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
            window.openModal = openModal;
            window.closeModal = closeModal;
            window.copyCardNumber = copyCardNumber;
            window.copyTonWallet = copyTonWallet;
            window.copyShareUrl = copyShareUrl;
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ö—ç—à–∞ URL
        window.addEventListener('hashchange', () => {
            App.checkUrlHash();
        });
    </script>
</body>
</html>